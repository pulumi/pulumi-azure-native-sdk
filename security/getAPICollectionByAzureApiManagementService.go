// Code generated by the Pulumi SDK Generator DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package security

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-azure-native-sdk/v2/utilities"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Gets an Azure API Management API if it has been onboarded to Microsoft Defender for APIs. If an Azure API Management API is onboarded to Microsoft Defender for APIs, the system will monitor the operations within the Azure API Management API for intrusive behaviors and provide alerts for attacks that have been detected.
// Azure REST API version: 2023-11-15.
func LookupAPICollectionByAzureApiManagementService(ctx *pulumi.Context, args *LookupAPICollectionByAzureApiManagementServiceArgs, opts ...pulumi.InvokeOption) (*LookupAPICollectionByAzureApiManagementServiceResult, error) {
	opts = utilities.PkgInvokeDefaultOpts(opts)
	var rv LookupAPICollectionByAzureApiManagementServiceResult
	err := ctx.Invoke("azure-native:security:getAPICollectionByAzureApiManagementService", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

type LookupAPICollectionByAzureApiManagementServiceArgs struct {
	// API revision identifier. Must be unique in the API Management service instance. Non-current revision has ;rev=n as a suffix where n is the revision number.
	ApiId string `pulumi:"apiId"`
	// The name of the resource group. The name is case insensitive.
	ResourceGroupName string `pulumi:"resourceGroupName"`
	// The name of the API Management service.
	ServiceName string `pulumi:"serviceName"`
}

// An API collection as represented by Microsoft Defender for APIs.
type LookupAPICollectionByAzureApiManagementServiceResult struct {
	// The base URI for this API collection. All endpoints of this API collection extend this base URI.
	BaseUrl string `pulumi:"baseUrl"`
	// The resource Id of the resource from where this API collection was discovered.
	DiscoveredVia string `pulumi:"discoveredVia"`
	// The display name of the API collection.
	DisplayName string `pulumi:"displayName"`
	// Resource Id
	Id string `pulumi:"id"`
	// Resource name
	Name string `pulumi:"name"`
	// The number of API endpoints discovered in this API collection.
	NumberOfApiEndpoints float64 `pulumi:"numberOfApiEndpoints"`
	// The number of API endpoints in this API collection which are exposing sensitive data in their requests and/or responses.
	NumberOfApiEndpointsWithSensitiveDataExposed float64 `pulumi:"numberOfApiEndpointsWithSensitiveDataExposed"`
	// The number of API endpoints in this API collection for which API traffic from the internet was observed.
	NumberOfExternalApiEndpoints float64 `pulumi:"numberOfExternalApiEndpoints"`
	// The number of API endpoints in this API collection that have not received any API traffic in the last 30 days.
	NumberOfInactiveApiEndpoints float64 `pulumi:"numberOfInactiveApiEndpoints"`
	// The number of API endpoints in this API collection that are unauthenticated.
	NumberOfUnauthenticatedApiEndpoints float64 `pulumi:"numberOfUnauthenticatedApiEndpoints"`
	// Gets the provisioning state of the API collection.
	ProvisioningState string `pulumi:"provisioningState"`
	// The highest priority sensitivity label from Microsoft Purview in this API collection.
	SensitivityLabel string `pulumi:"sensitivityLabel"`
	// Resource type
	Type string `pulumi:"type"`
}

func LookupAPICollectionByAzureApiManagementServiceOutput(ctx *pulumi.Context, args LookupAPICollectionByAzureApiManagementServiceOutputArgs, opts ...pulumi.InvokeOption) LookupAPICollectionByAzureApiManagementServiceResultOutput {
	return pulumi.ToOutputWithContext(context.Background(), args).
		ApplyT(func(v interface{}) (LookupAPICollectionByAzureApiManagementServiceResult, error) {
			args := v.(LookupAPICollectionByAzureApiManagementServiceArgs)
			r, err := LookupAPICollectionByAzureApiManagementService(ctx, &args, opts...)
			var s LookupAPICollectionByAzureApiManagementServiceResult
			if r != nil {
				s = *r
			}
			return s, err
		}).(LookupAPICollectionByAzureApiManagementServiceResultOutput)
}

type LookupAPICollectionByAzureApiManagementServiceOutputArgs struct {
	// API revision identifier. Must be unique in the API Management service instance. Non-current revision has ;rev=n as a suffix where n is the revision number.
	ApiId pulumi.StringInput `pulumi:"apiId"`
	// The name of the resource group. The name is case insensitive.
	ResourceGroupName pulumi.StringInput `pulumi:"resourceGroupName"`
	// The name of the API Management service.
	ServiceName pulumi.StringInput `pulumi:"serviceName"`
}

func (LookupAPICollectionByAzureApiManagementServiceOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupAPICollectionByAzureApiManagementServiceArgs)(nil)).Elem()
}

// An API collection as represented by Microsoft Defender for APIs.
type LookupAPICollectionByAzureApiManagementServiceResultOutput struct{ *pulumi.OutputState }

func (LookupAPICollectionByAzureApiManagementServiceResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupAPICollectionByAzureApiManagementServiceResult)(nil)).Elem()
}

func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) ToLookupAPICollectionByAzureApiManagementServiceResultOutput() LookupAPICollectionByAzureApiManagementServiceResultOutput {
	return o
}

func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) ToLookupAPICollectionByAzureApiManagementServiceResultOutputWithContext(ctx context.Context) LookupAPICollectionByAzureApiManagementServiceResultOutput {
	return o
}

func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) ToOutput(ctx context.Context) pulumix.Output[LookupAPICollectionByAzureApiManagementServiceResult] {
	return pulumix.Output[LookupAPICollectionByAzureApiManagementServiceResult]{
		OutputState: o.OutputState,
	}
}

// The base URI for this API collection. All endpoints of this API collection extend this base URI.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) BaseUrl() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.BaseUrl }).(pulumi.StringOutput)
}

// The resource Id of the resource from where this API collection was discovered.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) DiscoveredVia() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.DiscoveredVia }).(pulumi.StringOutput)
}

// The display name of the API collection.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) DisplayName() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.DisplayName }).(pulumi.StringOutput)
}

// Resource Id
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.Id }).(pulumi.StringOutput)
}

// Resource name
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.Name }).(pulumi.StringOutput)
}

// The number of API endpoints discovered in this API collection.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) NumberOfApiEndpoints() pulumi.Float64Output {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) float64 { return v.NumberOfApiEndpoints }).(pulumi.Float64Output)
}

// The number of API endpoints in this API collection which are exposing sensitive data in their requests and/or responses.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) NumberOfApiEndpointsWithSensitiveDataExposed() pulumi.Float64Output {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) float64 {
		return v.NumberOfApiEndpointsWithSensitiveDataExposed
	}).(pulumi.Float64Output)
}

// The number of API endpoints in this API collection for which API traffic from the internet was observed.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) NumberOfExternalApiEndpoints() pulumi.Float64Output {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) float64 {
		return v.NumberOfExternalApiEndpoints
	}).(pulumi.Float64Output)
}

// The number of API endpoints in this API collection that have not received any API traffic in the last 30 days.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) NumberOfInactiveApiEndpoints() pulumi.Float64Output {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) float64 {
		return v.NumberOfInactiveApiEndpoints
	}).(pulumi.Float64Output)
}

// The number of API endpoints in this API collection that are unauthenticated.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) NumberOfUnauthenticatedApiEndpoints() pulumi.Float64Output {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) float64 {
		return v.NumberOfUnauthenticatedApiEndpoints
	}).(pulumi.Float64Output)
}

// Gets the provisioning state of the API collection.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) ProvisioningState() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.ProvisioningState }).(pulumi.StringOutput)
}

// The highest priority sensitivity label from Microsoft Purview in this API collection.
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) SensitivityLabel() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.SensitivityLabel }).(pulumi.StringOutput)
}

// Resource type
func (o LookupAPICollectionByAzureApiManagementServiceResultOutput) Type() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAPICollectionByAzureApiManagementServiceResult) string { return v.Type }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupAPICollectionByAzureApiManagementServiceResultOutput{})
}
